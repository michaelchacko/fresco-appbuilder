{"version":3,"sources":["reportWebVitals.js","context/ContextMenuContext.js","ContextMenu.js","context/ProjectContext.js","Sidebar.js","NodeHelper.js","NodeTemplate.js","modules/FM_drop_flow.js","modules/FM_flow_sourceIP.js","modules/FM_flow_sourcePort.js","modules/FM_match_ip.js","modules/FM_match_port.js","modules/FM_flow_destinationIP.js","modules/FM_logic_and.js","modules/FM_custom.js","Flow.js","ProviderFlow.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ContextMenuContext","createContext","useContextMenu","context","useContext","undefined","Error","ContextMenu","children","React","useState","showPopper","setShowPopper","popperElement","setPopperElement","virtualReference","useRef","usePopper","current","placement","styles","attributes","useMemo","getRect","top","left","right","bottom","width","height","getBoundingClientRect","hide","show","foo","setRect","bbox","Provider","value","ref","node","style","popper","ProjectContext","useProject","textareaStyles","fontSize","resize","controlsStyles","display","position","transform","transformOrigin","getDefaultProject","id","uuidv4","elements","x","y","zoom","Sidebar","nodes","useStoreState","store","edges","visible","setVisible","drawerStyles","padding","transition","getDrawerStyles","setElements","setId","setTransform","createNodeInfo","index","frescoInputs","incomingEdges","filter","edge","target","getIncomingEdges","i","forEach","myEdge","sourceNode","find","getNode","source","inputString","data","frescoid","sourceHandle","push","type","event","parameters","useEffect","project","atob","window","location","hash","substr","JSON","parse","e","console","error","btoa","stringify","map","element","__rf","onChange","useCallback","clearProject","defaultProject","toggleProjectDrawer","downloadApplication","document","createElement","file","Blob","getElementById","href","URL","createObjectURL","download","body","appendChild","click","editable","spellCheck","frescoModules","buildApp","onClick","marginRight","buildElement","title","Object","assign","label","NodeTemplate","props","contextMenu","handleStyle","background","isValidConnection","connection","targetNode","outputs","inputs","targetHandle","className","input","toString","Position","Left","output","Right","memo","buildFM_drop_flow","buildProps","FM_drop_flow","nodeType","selected","buildFM_flow_sourceIP","FM_flow_sourceIP","buildFM_flow_sourcePort","FM_flow_sourcePort","buildFM_match_ip","FM_match_ip","ipAddress","setIP","setEvent","els","el","buildFM_match_port","FM_match_port","port","buildFM_flow_destinationIP","FM_flow_destinationIP","buildFM_logic_and","FM_logic_and","buildFM_custom","FM_custom","custom_parameters","onElementClick","log","onLoad","reactFlowInstance","snapToGrid","Math","floor","Flow","nodeTypes","addNode","buildFunction","onNodeDragStop","draggedNode","onPaneClick","onPaneContextMenu","preventDefault","clientY","clientX","FlowContextMenu","items","item","subitem","build","onConnect","params","addEdge","onElementsRemove","elementsToRemove","removeElements","selectNodesOnDrag","snapGrid","zIndex","gap","ProviderFlow","alignItems","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.657a58a5.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createContext, useContext } from \"react\";\n\nexport const ContextMenuContext = createContext();\n\nexport function useContextMenu() {\n  const context = useContext(ContextMenuContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider')\n  }\n  return context\n}\n","import React, { useMemo, useRef } from \"react\";\nimport { ContextMenuContext } from \"./context/ContextMenuContext\";\nimport { usePopper } from \"react-popper\";\n\nfunction ContextMenu({ children }) {\n  const [showPopper, setShowPopper] = React.useState(null);\n  const [popperElement, setPopperElement] = React.useState();\n  const virtualReference = useRef();\n  const { styles, attributes } = usePopper(virtualReference.current, popperElement, { placement: \"bottom-start\" });\n\n  const context = useMemo(\n    () => ({\n      getRect: () => {\n        if (virtualReference.current == null) {\n          return { top: 0, left: 0, right: 0, bottom: 0, width: 0, height: 0 };\n        }\n\n        return virtualReference.current.getBoundingClientRect();\n      },\n      hide: () => {\n        setShowPopper(null);\n      },\n      show: (foo) => {\n        setShowPopper(foo);\n      },\n      setRect: (bbox) => {\n        virtualReference.current = {\n          getBoundingClientRect: () => bbox,\n        };\n      },\n      setPopperElement,\n    }),\n    []\n  );\n\n  return (\n    <ContextMenuContext.Provider value={context}>\n      {children}\n      <div ref={node => node && setPopperElement(node)} style={styles.popper} {...attributes.popper}>\n        {showPopper}\n      </div>\n    </ContextMenuContext.Provider>\n  );\n}\n\nexport default ContextMenu;\n","import { createContext, useContext } from \"react\";\n\nexport const ProjectContext = createContext();\n\nexport function useProject() {\n  const context = useContext(ProjectContext);\n  if (context === undefined) {\n    throw new Error('useCount must be used within a CountProvider')\n  }\n  return context\n}\n","import React, { useCallback, useMemo, useState, useEffect } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useStoreState } from 'react-flow-renderer';\nimport { useProject } from \"./context/ProjectContext\";\n\nconst textareaStyles = {\n  fontSize: 12,\n  height: \"100%\",\n  resize: \"none\",\n  width: \"100%\",\n};\n\nconst controlsStyles = {\n  display: \"flex\",\n  position: \"absolute\",\n  right: \"100%\",\n  top: -10,\n  transform: \"rotate(-90deg)\",\n  transformOrigin: \"bottom right\",\n};\n\nconst getDrawerStyles = (visible) => ({\n  height: \"100%\",\n  padding: 10,\n  position: \"absolute\",\n  right: 0,\n  top: 0,\n  transform: visible ? \"translateX(0)\" : \"translateX(100%)\",\n  transition: \"transform 0.4s ease\",\n  width: 400,\n});\n\nexport const getDefaultProject = () => ({\n  id: uuidv4(),\n  elements: [],\n  transform: {\n    x: 0,\n    y: 0,\n    zoom: 1,\n  },\n});\n\nexport default function Sidebar() {\n  const nodes = useStoreState((store) => store.nodes);\n  const edges = useStoreState((store) => store.edges);\n  const [visible, setVisible] = useState(false);\n  const drawerStyles = useMemo(() => getDrawerStyles(visible), [visible]);\n  const { elements, id, setElements, setId, setTransform, transform } = useProject();\n\n  function getNode(id) {\n    return nodes.find(node => node.id === id);\n  }\n\n  function createNodeInfo(node, index) {\n    let frescoInputs = []; // List of inputs for this node\n    const incomingEdges = getIncomingEdges(node, edges) ?? [];\n    let i = 1;\n    incomingEdges.forEach(myEdge => {\n      let sourceNode = getNode(myEdge.source);\n      let inputString = i + \":\" + sourceNode.data.frescoid + \":\" + myEdge.sourceHandle;\n      frescoInputs.push(inputString);\n      i++;\n    });\n  \n    const template = \n    {\t\n      \"id\" : node.data.frescoid,\n      \"type\" : node.type, \n      \"event\" : node.data.event, \n      \"parameters\" : node.data.parameters ?? [],\n      \"inputs\" : frescoInputs,\n    }\n    return template;\n  }\n\n  function buildApp(){\n    let frescoModules = [];\n    nodes.map((node, index) => {\n        //{Use the index of the node in the map as the integer for the FRESCO ID}\n        node.data.frescoid = index + 1;\n        frescoModules.push(createNodeInfo(node, index));\n        return createNodeInfo(node, index);\n    });\n    return JSON.stringify(\n      {\n        frescoModules: frescoModules.map(element => ({ ...element, __rf: undefined })),\n      },\n      null,\n      2\n    );\n  }\n\n  // Load project from URL\n  useEffect(() => {\n    const project = atob(window.location.hash.substr(1));\n    try {\n      const { elements, id, transform } = JSON.parse(project);\n      setElements(elements);\n      setId(id ?? uuidv4());\n      setTransform(transform);\n    } catch (e) {\n      console.error(e);\n    }\n  }, [setElements, setId, setTransform]);\n\n  // Store project in URL\n  useEffect(() => {\n    window.location.hash = btoa(\n      JSON.stringify({\n        elements: elements.map(element => ({ ...element, __rf: undefined })),\n        id,\n        transform,\n      })\n    );\n  }, [elements, id, transform]);\n\n  const onChange = useCallback(\n    (e) => {\n      try {\n        const { elements, id, transform } = JSON.parse(e.target.value);\n        setElements(elements);\n        setId(id ?? uuidv4());\n        setTransform(transform);\n      } catch (e) {\n        console.error(e);\n      }\n    },\n    [setElements, setId, setTransform]\n  );\n\n  const clearProject = useCallback(() => {\n    const defaultProject = getDefaultProject();\n    setElements(defaultProject.elements);\n    setId(defaultProject.id);\n    setTransform(defaultProject.transform);\n  }, [setElements, setId, setTransform]);\n\n  const toggleProjectDrawer = useCallback(() => setVisible(visible => !visible), []);\n\n  //\n  // downloadApplication() adapted from StackOverflow answer: https://stackoverflow.com/a/44661948\n  //\n  const downloadApplication = useCallback(() => {\n    const element = document.createElement(\"a\");\n    const file = new Blob([document.getElementById('frescoOutput').value], {type: 'text/plain'});\n    element.href = URL.createObjectURL(file);\n    element.download = \"new_fresco_application.fre\";\n    document.body.appendChild(element);\n    element.click();\n  }, []);\n\n  return (\n    <div style={drawerStyles}>\n      <textarea onChange={onChange} editable=\"false\" spellCheck=\"false\" id=\"frescoOutput\" style={textareaStyles} value={buildApp()} />\n      <div style={controlsStyles}>\n        <button onClick={clearProject} style={{ marginRight: 20 }}>\n          clear\n        </button>\n        <button onClick={downloadApplication} style={{ marginRight: 10 }}>\n          download\n        </button>\n        <button onClick={toggleProjectDrawer}>{visible ? \"hide\" : \"application\"}</button>\n      </div>\n    </div>\n  );\n};\n\nfunction getIncomingEdges(node, edges) {\n  return edges.filter((edge) => {\n    return edge.target === node.id;\n  });\n}","import { v4 as uuidv4 } from 'uuid';\n\nexport default function buildElement(type, title, data, position) {\n    return {\n        id: type + '-' + uuidv4(),\n        type: type,\n        position: position,\n        data: Object.assign({}, { frescoid: \"0\", label: title }, data) \n    };\n}","import React, { useMemo, useCallback } from 'react';\nimport { Position, Handle, useStoreState} from 'react-flow-renderer';\nimport { useContextMenu } from \"./context/ContextMenuContext\";\n\nfunction NodeTemplate(props) {\n  const contextMenu = useContextMenu();\n  const handleStyle = useMemo(\n    () => ({\n      background: `#${props.id.substr(-6)}`,\n    }),\n    [props.id]\n  );\n\n  const nodes = useStoreState((store) => store.nodes);\n  function getNode(id) {\n    return nodes.find(node => node.id === id);\n  }\n\n  // verify connections between modules are using the same string\n  const isValidConnection = (connection) => {\n    let sourceNode = getNode(connection.source);\n    let targetNode = getNode(connection.target);\n    if(!sourceNode.data.outputs || !targetNode.data.inputs) return false; // shouldn't ever happen \n    return (sourceNode.data.outputs[connection.sourceHandle - 1] === targetNode.data.inputs[connection.targetHandle - 1]);\n  }\n  \n  const onClick = useCallback(() => {\n    contextMenu.hide();\n  }, [contextMenu]);\n\n  return (\n    <div className=\"customNode\" title={props.id} onClick={onClick} >\n      <div className=\"customNode_header\"> \n        {props.title ?? props.type}\n      </div>\n      <div className=\"customNode_body\">\n        {props.inputs && (\n          <div className=\"customNode_inputs\">\n            {props.inputs.map((input, index) => (\n              <div key={input} className=\"customNode_item\">\n                <Handle id={(index+1).toString()} position={Position.Left} style={handleStyle} type=\"target\" isValidConnection={isValidConnection}/>\n                {input}\n              </div>\n            ))}\n          </div>\n        )}\n        {props.outputs && (\n          <div className=\"customNode_outputs\">\n            {props.outputs.map((output, index) => (\n              <div key={output} className=\"customNode_item\">\n                <Handle id={(index+1).toString()} position={Position.Right} style={handleStyle} type=\"source\" isValidConnection={isValidConnection}/>\n                {output}\n              </div>\n            ))}\n          </div>\n        )}\n        {props.children}\n      </div>\n  </div>\n  );\n\n}\n\nexport default React.memo(NodeTemplate);\n","import React from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\n\nexport function buildFM_drop_flow(buildProps) {\n    return buildElement(\n      \"FM_drop_flow\", \n      \"FM_drop_flow\", \n      {event: \"PUSH\", \n      inputs: [\"bool\"]}, \n      buildProps.position,\n    );\n}\n\n// eslint-disable-next-line\nconst FM_drop_flow = ({ data, id, selected, nodeType }) => {\n    return (\n      <NodeTemplate\n       id={id}\n       title={\"FM_drop_flow\"}\n       type={nodeType}\n       inputs={data.inputs}\n\n      />\n    );\n  };\n  export default React.memo(FM_drop_flow);\n","import React from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\n\nexport function buildFM_flow_sourceIP(buildProps) {\n    return buildElement(\n      \"FM_flow_sourceIP\", \n      \"FM_flow_sourceIP\", \n      {event: \"INCOMMING_FLOW\", \n      outputs: [\"ip_address\"]}, \n      buildProps.position,\n    );\n}\n\n// eslint-disable-next-line\nconst FM_flow_sourceIP = ({ data, id, selected, nodeType }) => {\n    return (\n      <NodeTemplate\n       id={id}\n       title={\"FM_flow_sourceIP\"}\n       type={nodeType}\n       outputs={data.outputs}\n       \n      />\n    );\n  };\nexport default FM_flow_sourceIP;\n","import React from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\n\nexport function buildFM_flow_sourcePort(buildProps) {\n    return buildElement(\n      \"FM_flow_sourcePort\", \n      \"FM_flow_sourcePort\", \n      {event: \"INCOMMING_FLOW\", \n      outputs: [\"port\"]}, \n      buildProps.position,\n    );\n}\n\n// eslint-disable-next-line\nconst FM_flow_sourcePort = ({ data, id, selected, nodeType }) => {\n    return (\n      <NodeTemplate\n       id={id}\n       title={\"FM_flow_sourcePort\"}\n       type={nodeType}\n       outputs={data.outputs}\n       \n      />\n    );\n  };\n  export default React.memo(FM_flow_sourcePort);\n","import React, { useState, useEffect } from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\nimport { useProject } from \"../context/ProjectContext\";\n\nexport function buildFM_match_ip(buildProps) {\n    return buildElement(\n      \"FM_match_ip\", \n      \"FM_match_ip\", \n      {event: \"PULL\", \n      parameters: [\"0.0.0.0\"], \n      outputs: [\"bool\"], \n      inputs: [\"ip_address\"], \n      }, \n      buildProps.position,\n      );\n}\n\n// eslint-disable-next-line\nconst FM_match_ip = ({ data, id, selected, nodeType }) => {\n    const [ipAddress, setIP] = useState(data.parameters[0]);\n    const [event, setEvent] = useState(data.event);\n\n    const { setElements } = useProject();\n    useEffect(() => {\n      setElements((els) =>\n        els.map((el) => {\n          if (el.id === id) {\n            // it's important that you create a new object here\n            // in order to notify react flow about the change\n            el.data = {\n              ...el.data,\n              parameters: [ipAddress],\n              event: event,\n            };\n          }\n\n          return el;\n        })\n      );      \n    }, [ipAddress, event, id, setElements]);\n    return (\n        <div>\n          <NodeTemplate\n          id={id}\n          title={`FM_match_ip: ${ipAddress}`}\n          type={nodeType}\n          inputs={data.inputs}\n          outputs={data.outputs}\n          >\n            {selected && (\n              <div className=\"customNode_editor\">\n                <div className=\"customNode_item\">\n                    <span>IP Address:</span>\n                    <input onChange={e => setIP(e.target.value)} value={ipAddress}/>\n                </div>\n                <div className=\"customNode_item\">\n                    <span>Event:</span>\n                    <input onChange={e => setEvent(e.target.value)} value={event} />\n              </div>\n            </div>\n\n            )}\n            </NodeTemplate>\n        </div>\n\n    );\n  };\nexport default React.memo(FM_match_ip);\n","import React, { useState, useEffect } from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\nimport { useProject } from \"../context/ProjectContext\";\n\nexport function buildFM_match_port(buildProps) {\n    return buildElement(\n      \"FM_match_port\", \n      \"FM_match_port\", \n      {event: \"PULL\", \n      parameters: [\"80\"], \n      outputs: [\"bool\"], \n      inputs: [\"port\"], \n      }, \n      buildProps.position,\n      );\n}\n\n// eslint-disable-next-line\nconst FM_match_port = ({ data, id, selected, nodeType }) => {\n    const [port, setIP] = useState(data.parameters[0]);\n\n    const { setElements } = useProject();\n    useEffect(() => {\n      setElements((els) =>\n        els.map((el) => {\n          if (el.id === id) {\n            // it's important that you create a new object here\n            // in order to notify react flow about the change\n            el.data = {\n              ...el.data,\n              parameters: [port],\n            };\n          }\n\n          return el;\n        })\n      );      \n    }, [port, id, setElements]);\n    return (\n        <div>\n          <NodeTemplate\n          id={id}\n          title={`FM_match_port: ${port}`}\n          type={nodeType}\n          inputs={data.inputs}\n          outputs={data.outputs}\n          >\n            {selected && (\n              <div className=\"customNode_editor\">\n                <div className=\"customNode_item\">\n                    <span>Port:</span>\n                    <input onChange={e => setIP(e.target.value)} value={port}/>\n                </div>\n            </div>\n\n            )}\n            </NodeTemplate>\n        </div>\n\n    );\n  };\nexport default React.memo(FM_match_port);\n","import React from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\n\nexport function buildFM_flow_destinationIP(buildProps) {\n    return buildElement(\n      \"FM_flow_destinationIP\", \n      \"FM_flow_destinationIP\", \n      {event: \"INCOMMING_FLOW\", \n      outputs: [\"integer\"]}, \n      buildProps.position,\n    );\n}\n\n// eslint-disable-next-line\nconst FM_flow_destinationIP = ({ data, id, selected, nodeType }) => {\n    return (\n      <NodeTemplate\n       id={id}\n       title={\"FM_flow_destinationIP\"}\n       type={nodeType}\n       outputs={data.outputs}\n       \n      />\n    );\n  };\n  export default React.memo(FM_flow_destinationIP);\n","import React from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\n\nexport function buildFM_logic_and(buildProps) {\n    return buildElement(\n      \"FM_logic_and\", \n      \"FM_logic_and\", \n      {event: \"PUSH\", \n      inputs: [\"bool\", \"bool\"],\n      outputs: [\"bool\"]},\n      buildProps.position,\n    );\n}\n\n// eslint-disable-next-line\nconst FM_logic_and = ({ data, id, selected, nodeType }) => {\n    return (\n      <NodeTemplate\n       id={id}\n       title={\"FM_logic_and\"}\n       type={nodeType}\n       inputs={data.inputs}\n       outputs={data.outputs}\n      />\n    );\n  };\n  export default React.memo(FM_logic_and);\n","import React, { useState, useEffect } from 'react';\nimport buildElement from '../NodeHelper'\nimport NodeTemplate from '../NodeTemplate';\nimport { useProject } from \"../context/ProjectContext\";\n\nexport function buildFM_custom(buildProps) {\n    return buildElement(\n      \"FM_custom\", \n      \"FM_custom\", \n      {event: \"PULL\", \n      parameters: [], \n      outputs: [\"output1\"], \n      inputs: [\"input1\"], \n      }, \n      buildProps.position,\n      );\n}\n\n// eslint-disable-next-line\nconst FM_custom = ({ data, id, selected, nodeType }) => {\n    const [custom_parameters, setIP] = useState(data.parameters[0]);\n\n    const { setElements } = useProject();\n    useEffect(() => {\n      setElements((els) =>\n        els.map((el) => {\n          if (el.id === id) {\n            // it's important that you create a new object here\n            // in order to notify react flow about the change\n            el.data = {\n              ...el.data,\n              parameters: [custom_parameters],\n            };\n          }\n\n          return el;\n        })\n      );      \n    }, [custom_parameters, id, setElements]);\n    return (\n        <div>\n          <NodeTemplate\n          id={id}\n          title={`FM_custom: ${custom_parameters}`}\n          type={nodeType}\n          inputs={data.inputs}\n          outputs={data.outputs}\n          >\n            {selected && (\n              <div className=\"customNode_editor\">\n                <div className=\"customNode_item\">\n                    <span>Custom Parameters:</span>\n                    <input onChange={e => setIP(e.target.value)} value={custom_parameters}/>\n                </div>\n            </div>\n\n            )}\n            </NodeTemplate>\n        </div>\n\n    );\n  };\nexport default React.memo(FM_custom);\n","import React, { useCallback } from 'react';\nimport ReactFlow, {\n  addEdge,\n  Background,\n  removeElements,\n  Controls\n} from 'react-flow-renderer';\nimport './provider.css';\nimport { useContextMenu } from './context/ContextMenuContext';\nimport { useProject } from \"./context/ProjectContext\";\n\n/* HELP: Import new fresco modules here! */\nimport FM_drop_flow, {buildFM_drop_flow} from './modules/FM_drop_flow';\nimport FM_flow_sourceIP, {buildFM_flow_sourceIP} from './modules/FM_flow_sourceIP';\nimport FM_flow_sourcePort, {buildFM_flow_sourcePort} from './modules/FM_flow_sourcePort';\nimport FM_match_ip, {buildFM_match_ip} from './modules/FM_match_ip';\nimport FM_match_port, { buildFM_match_port } from './modules/FM_match_port';\nimport FM_flow_destinationIP, { buildFM_flow_destinationIP } from './modules/FM_flow_destinationIP';\nimport FM_logic_and, { buildFM_logic_and } from './modules/FM_logic_and';\nimport FM_custom, { buildFM_custom } from './modules/FM_custom';\n\nconst onElementClick = (event, element) => console.log();\nconst onLoad = (reactFlowInstance) => console.log('flow loaded:', reactFlowInstance);\nexport const GRID_SIZE = 10;\n\nfunction snapToGrid(position) {\n  return Math.floor(position / GRID_SIZE) * GRID_SIZE;\n}\n\nexport default function Flow() {\n\n  /* HELP: Add new fresco module types here! */\n  const nodeTypes = {\n    FM_drop_flow: FM_drop_flow,\n    FM_flow_sourceIP: FM_flow_sourceIP,\n    FM_flow_destinationIP: FM_flow_destinationIP,\n    FM_flow_sourcePort: FM_flow_sourcePort,\n    FM_match_ip: FM_match_ip,\n    FM_match_port: FM_match_port,\n    FM_logic_and: FM_logic_and,\n    FM_custom: FM_custom,\n  };\n\n  const contextMenu = useContextMenu();\n  const { elements, setElements, transform} = useProject();\n  const onConnect = (params) => setElements((els) => addEdge(params, els));\n  const onElementsRemove = (elementsToRemove) =>\n    setElements((els) => removeElements(elementsToRemove, els));\n\n  const addNode = useCallback(\n    (type, buildFunction) => {\n      console.log(type)\n      const position = {\n        x: snapToGrid((contextMenu.getRect().left - transform.x) / transform.zoom),\n        y: snapToGrid((contextMenu.getRect().top - transform.y) / transform.zoom),\n      };\n      const buildProps = {\n        position,\n      }\n      const node = buildFunction(buildProps);\n      console.log(\"Node added\");\n      setElements((elements) => [...elements, node]);\n      contextMenu.hide();\n    },\n    [contextMenu, setElements, transform]\n  );\n\n  const onNodeDragStop = useCallback(\n    (event, draggedNode) => {\n      const position = {\n        x: snapToGrid(draggedNode.position.x),\n        y: snapToGrid(draggedNode.position.y),\n      };\n      setElements((els) =>\n        els.map((el) => {\n          if (el.id === draggedNode.id) {\n            // it's important that you create a new object here\n            // in order to notify react flow about the change\n            el.position = position;\n          }\n          return el;\n        })\n      );\n    },\n    [setElements]\n  );\n\n\n  const onPaneClick = useCallback(() => {\n    contextMenu.hide();\n  }, [contextMenu]);\n\n  const onPaneContextMenu = useCallback(\n    (event) => {\n      event.preventDefault();\n      contextMenu.setRect({ width: 0, height: 0, top: event.clientY, right: 0, bottom: 0, left: event.clientX });\n      contextMenu.show(<FlowContextMenu />);\n    },\n    [contextMenu]\n  );\n  \n  function FlowContextMenu() {\n    return (\n      <ul className=\"contextMenu\">\n        {items.map(item => (\n          <li key={item.label}>\n            {item.label}\n            <span>&#x276F;</span>\n            {item.items && (\n              <ul className=\"contextMenu sub\">\n                {item.items.map(subitem => (\n                  <li key={subitem.label} onClick={() => addNode(subitem.label, subitem.build)}>\n                    {subitem.label}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n  \n  \n  /* HELP: Add new FRESCO module here. This is the right-click toolbar */\n  const items = [\n    {\n      items: [\n        { label: \"FM_flow_sourceIP\", build: buildFM_flow_sourceIP },\n        { label: \"FM_flow_destinationIP\", build: buildFM_flow_destinationIP },\n        { label: \"FM_flow_sourcePort\", build: buildFM_flow_sourcePort },\n        { label: \"FM_flow_destinationPort\", build: buildFM_flow_sourceIP },\n        { label: \"FM_flow_sourceMAC\", build: buildFM_flow_sourceIP },\n        { label: \"FM_flow_destinationMAC\", build: buildFM_flow_sourceIP },\n        { label: \"FM_flow_arpSender\", build: buildFM_flow_sourceIP },\n        { label: \"FM_flow_arpTarget\", build: buildFM_flow_sourceIP },\n        { label: \"FM_flow_tcpip\", build: buildFM_flow_sourceIP },\n        { label: \"FM_drop_flow\", build: buildFM_drop_flow },\n        { label: \"FM_match_ip\", build: buildFM_match_ip },\n      ],\n      label: \"Flow Utilities\",\n    },\n    {\n      items: [\n        { label: \"FM_match_ip\", build: buildFM_match_ip },\n        { label: \"FM_match_port\", build: buildFM_match_port },\n        { label: \"FM_match_mac\", build: buildFM_match_ip },\n        { label: \"FM_arith_equal\", build: buildFM_match_ip },\n        { label: \"FM_arith_larger\", build: buildFM_match_ip },\n        { label: \"FM_arith_smaller\", build: buildFM_match_ip },\n        { label: \"FM_logic_and\", build: buildFM_logic_and },\n        { label: \"FM_logic_or\", build: buildFM_match_ip },\n        { label: \"FM_count_ip\", build: buildFM_match_ip },\n        { label: \"FM_output_bool\", build: buildFM_match_ip },\n        { label: \"FM_output_int\", build: buildFM_match_ip },\n        { label: \"FM_output_ip\", build: buildFM_match_ip },\n        { label: \"FM_output_mac\", build: buildFM_match_ip },\n      ],\n      label: \"Basic Operations\",\n    },\n    {\n      items: [\n        { label: \"FM_drop_flow\", build: buildFM_drop_flow },\n        { label: \"FM_forward_flow\", build: buildFM_match_ip },\n        { label: \"FM_mirror_flow\", build: buildFM_match_ip },\n        { label: \"FM_redirect_ip\", build: buildFM_match_ip },\n        { label: \"FM_block_ip\", build: buildFM_match_ip },\n        { label: \"FM_quarantine_ip\", build: buildFM_match_ip },\n      ],\n      label: \"Security Actions\",\n    },\n    {\n      items: [\n        { label: \"FM_find_scan\", build: buildFM_match_ip },\n        { label: \"FM_find_arpSpoofing\", build: buildFM_match_ip },\n      ],\n      label: \"Network Attack Detection\",\n    },\n    {\n      items: [\n        { label: \"FM_load_balance\", build: buildFM_match_ip },\n      ],\n      label: \"Network Service\",\n    },\n    {\n      items: [\n        { label: \"FM_find_bufferoverflow\", build: buildFM_match_ip },\n        { label: \"FM_http_extGuard\", build: buildFM_match_ip },\n        { label: \"FM_calc_interval_freq\", build: buildFM_match_ip },\n        { label: \"FM_custom\", build: buildFM_custom },\n      ],\n      label: \"Third Party\",\n    },\n  ];\n\n  return (\n    <div className=\"reactflow-wrapper\" >\n      <ReactFlow\n        elements={elements}\n        onElementClick={onElementClick}\n        onConnect={onConnect}\n        onElementsRemove={onElementsRemove}\n        onLoad={onLoad}\n        onNodeDragStop={onNodeDragStop}\n        nodeTypes={nodeTypes}\n        onPaneClick={onPaneClick}\n        onPaneContextMenu={onPaneContextMenu}\n        selectNodesOnDrag={false}\n        snapGrid={[GRID_SIZE, GRID_SIZE]}\n        style={{ zIndex: 0 }}\n      >\n        <Background gap={GRID_SIZE} />\n        <Controls />\n      </ReactFlow>\n  </div>\n  )\n\n  \n};\n\n\n","import React, { useState, useMemo } from 'react';\nimport {\n  ReactFlowProvider,\n} from 'react-flow-renderer';\nimport ContextMenu from \"./ContextMenu\";\nimport Sidebar, { getDefaultProject } from './Sidebar';\nimport Flow from \"./Flow\";\nimport { ProjectContext } from \"./context/ProjectContext\";\nimport './provider.css';\n\nexport const GRID_SIZE = 10;\n\n// define a function called ProviderFlow that takes no arguments () and then runs =>\nconst ProviderFlow = () => { \n  const defaultProject = useMemo(getDefaultProject, []);\n  const [id, setId] = useState(defaultProject.id);\n  const [elements, setElements] = useState(defaultProject.elements);\n  const [transform, setTransform] = useState(defaultProject.transform);\n  const project = { elements, id, setElements, setId, setTransform, transform };\n  return (\n    <ProjectContext.Provider value={project}>\n      <div className=\"providerflow\">\n        <ReactFlowProvider>\n          <ContextMenu>\n            <div\n              style={{\n                      alignItems: \"stretch\",\n                      display: \"flex\",\n                      height: \"100vh\",\n                    }}\n              >\n              <Flow key={project.id}/>\n              <Sidebar />\n            </div>\n          </ContextMenu>\n        </ReactFlowProvider>\n      </div>\n    </ProjectContext.Provider>\n  );\n};\nexport default ProviderFlow;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n//import Flow from './Flow';\nimport ProviderFlow from './ProviderFlow';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ProviderFlow />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}